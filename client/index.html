<!doctype html>

<head>
  <title>sop_program</title>
  <link href="index.css" type="text/css" rel="stylesheet" />

  <style>
    table {
      font-family: Arial, Helvetica, sans-serif;
      border-collapse: collapse;
      width: 100%;
    }

    td {
      text-align: left;
    }
  </style>
</head>

<body bgcolor="orange">

  <div class="outerDiv" align="center">

    <select id="select_list_to_download_and_read"></select>
    <button id='read_data'>Read data</button>
    <button id="download_from_url">Download</button>
    <button id="download_all_from_url">Download All</button>
    <button id="check_data">Check data</button>
    <p id="progress" style="height: 15px;">Click the "Read data" button to start.</p>

    <div class="File_list" align="left">
      <div style="margin: 5px">
        <h3 style="height: 10px">Lists</h3>
        <!-- <table id="com_list"></table> -->
        <select id="select_list_to_show" onchange="show_list()" ></select>
        <br>
        <br>
        <textarea id="list_area" rows="50" cols="10"></textarea>
      </div>
    </div>

    <div class="Stategies_list" align="left">

      <div style="margin: 5px">
        <h3>Current list: 
          <a id="curr_list">null</a>
        </h3>
      </div>
      <div class="sep"></div>

      <!-- <div style="margin: 5px">
        <h3>Selected:
          <a id="selected_com">null</a>
          <button id="selected_com_name" onclick="get_chart()">get chart</button>
          <button id="selected_all_com" onclick="select_all_company()">select all</button>
        </h3>
      </div>
      <div class="sep"></div> -->

      <!-- <div style="margin: 5px">
        <h3>Search company
          <input id="search_com_name" style="text-align:left; width:100px;" maxlength="10" type="text" value="">
          <input id="submit_search" type="button" onclick="search_company()" value="Search">
        </h3>
        <p></p>
      </div>
      <div class="sep"></div> -->

      <div style="margin: 5px">
        <h3>Multiple conditions filter SOP</h3>
        <p>
          Use the filter on the current list
          <!-- <select id="select_list_for_filter"></select> -->
          <button onclick="multi_condition()">find</button>
        </p>
        <p>
          <strong>Daily:</strong><br>
          c1(day),c2,c3,c4,c5(day),c6(W),c7(day)<br>
          <strong>Weekly:</strong><br>
          c1(W), c6(W)<br>
          <strong>Monthly:</strong><br>
          c1(M)/c1(Mx)/...<br>
        </p>

        <h3>Conditions:</h3>

        <table>

          <tr>
            <td>
              <input type="checkbox" id="c0_checkbox">
              C0:</td>
            <td>Trend change
              <select id="c0_type">
                <option value="day" selected>day</option>
                <option value="W">W</option>
                <option value="M">M</option>
                <option value="Mx">Mx</option>
                <option value="M2">M2</option>
                <option value="M2_shift">M2_shift</option>
                <option value="M3">M3</option>
                <option value="M3_shift">M3_shift</option>
                <option value="M4">M4</option>
                <option value="M4_shift">M4_shift</option>
                <option value="M6">M6</option>
                <option value="M6_shift">M6_shift</option>
              </select>
            </td>
            <td><button onclick="condition_00()">find</button></td>
            <td></td>
          </tr>

          <tr>
            <td>
              <input type="checkbox" id="c1_checkbox">
              C1:</td>
            <td>Inside block
              <select id="c1_type">
                <option value="day" selected>day</option>
                <option value="W">W</option>
                <option value="M">M</option>
                <option value="Mx">Mx</option>
                <option value="M2">M2</option>
                <option value="M2_shift">M2_shift</option>
                <option value="M3">M3</option>
                <option value="M3_shift">M3_shift</option>
                <option value="M4">M4</option>
                <option value="M4_shift">M4_shift</option>
                <option value="M6">M6</option>
                <option value="M6_shift">M6_shift</option>
              </select>
            </td>
            <td><button onclick="condition_01()">find</button></td>
            <td></td>
          </tr>

          <tr>
            <td>
              <input type="checkbox" id="c2_checkbox" checked>
              C2:</td>
            <td>High volume(daily)
            </td>
            <td><button onclick="condition_02()">find</button></td>
            <td></td>
          </tr>

          <tr>
            <td>
              <input type="checkbox" id="c3_1_checkbox" checked>
              C3_1:</td>
            <td>Gap up down candle
            </td>
            <td><button onclick="condition_03_1()">find</button></td>
            <td></td>
          </tr>

          <tr>
            <td>
              <input type="checkbox" id="c3_2_checkbox" checked>
              C3_2:</td>
            <td>Gap down up candle
            </td>
            <td><button onclick="condition_03_2()">find</button></td>
            <td></td>
          </tr>

          <tr>
            <td>
              <input type="checkbox" id="c4_checkbox" checked>
              C4:</td>
            <td>Large range candle
            </td>
            <td><button onclick="condition_04()">find</button></td>
            <td></td>
          </tr>

          <tr>
            <td>
              <input type="checkbox" id="c5_checkbox" checked>
              C5:</td>
            <td>Double inside
              <select id="c5_type">
                <option value="day" selected>day</option>
                <option value="W">W</option>
                <option value="M">M</option>
                <option value="Mx">Mx</option>
                <option value="M2">M2</option>
                <option value="M2_shift">M2_shift</option>
                <option value="M3">M3</option>
                <option value="M3_shift">M3_shift</option>
                <option value="M4">M4</option>
                <option value="M4_shift">M4_shift</option>
                <option value="M6">M6</option>
                <option value="M6_shift">M6_shift</option>
              </select>
            </td>
            <td><button onclick="condition_05()">find</button></td>
            <td></td>
          </tr>



          <tr>
            <td>
              <input type="checkbox" id="c6_checkbox" checked>
              C6:</td>
            <td>Outside block
              <select id="c6_type">
                <option value="day">day</option>
                <option value="W" selected>W</option>
                <option value="M">M</option>
                <option value="Mx">Mx</option>
                <option value="M2">M2</option>
                <option value="M2_shift">M2_shift</option>
                <option value="M3">M3</option>
                <option value="M3_shift">M3_shift</option>
                <option value="M4">M4</option>
                <option value="M4_shift">M4_shift</option>
                <option value="M6">M6</option>
                <option value="M6_shift">M6_shift</option>
              </select>
            </td>
            <td><button onclick="condition_06()">find</button></td>
            <td></td>
          </tr>



          <tr>
            <td>
              <input type="checkbox" id="c7_checkbox" checked>
              C7:</td>
            <td>Double outside
              <select id="c7_type">
                <option value="day" selected>day</option>
                <option value="W">W</option>
                <option value="M">M</option>
                <option value="Mx">Mx</option>
                <option value="M2">M2</option>
                <option value="M2_shift">M2_shift</option>
                <option value="M3">M3</option>
                <option value="M3_shift">M3_shift</option>
                <option value="M4">M4</option>
                <option value="M4_shift">M4_shift</option>
                <option value="M6">M6</option>
                <option value="M6_shift">M6_shift</option>
              </select>
            </td>
            <td><button onclick="condition_07()">find</button></td>
            <td></td>
          </tr>

        </table>

      </div>
      <div class="sep"></div>

      <!-- <div style="margin: 5px">
        <h4>Default settings:</h4>
        <p>
          C2: 2 times of average of 10 days<br>
          C3: Gap up/Gap down: at least 2%<br>
          C4: 2 times of average height of 10 days<br>
        </p>
      </div>
      <div class="sep"></div> -->

      <div style="margin: 5px">
        <h4>How to get a URL crumb?</h4>
        <p>
          (1) Go to Yahoo finance and find a <a href="https://finance.yahoo.com/quote/AAPL/history?p=AAPL"
            target="_blank">company</a>.<br>
          (2) Click the "Historical Data" tab<br>
          (3) Copy the link address of the "Download Data" button<br>
          (4) URL crumb is at the end of the link address<br>
          (5) Copy the crumb and replace the curmb in the file: server/url_crumb.txt<br>
        </p>
      </div>
      <div class="sep"></div>

    </div>

    <div class="Result_list" align="left">
      <div style="margin: 5px">
        <h3>Result<a id="result_number"></a></h3>
        <textarea id="result_area" rows="50" cols="25"></textarea>
        <!-- <button onclick="open_all_charts()">open all charts</button><br> -->
      </div>
      <p style="height: 0px"></p>
      <div id="result"></div>
    </div>

  </div>

  <script src="jquery-3.3.1.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-csv/0.71/jquery.csv-0.71.min.js"></script>

  <script src="index.js"></script>
  <script src="key_mouse_hook.js"></script>
  <script src="select_list.js"></script>
  <script src="download_from_url.js"></script>

  <script src="indicators/candles.js"></script>
  <script src="indicators/candle_compare.js"></script>
  <script src="indicators/fractal.js"></script>
  <script src="indicators/period_compare.js"></script>
  <script src="indicators/tramsform_data.js"></script>
  <script src="indicators/trend.js"></script>
  <script src="indicators/volume.js"></script>

  <script src="freatues/condition_00.js"></script>
  <script src="freatues/condition_01.js"></script>
  <script src="freatues/condition_02.js"></script>
  <script src="freatues/condition_03.js"></script>
  <script src="freatues/condition_04.js"></script>
  <script src="freatues/condition_05.js"></script>
  <script src="freatues/condition_06.js"></script>
  <script src="freatues/condition_07.js"></script>
  <script src="freatues/multi_condition.js"></script>

</body>